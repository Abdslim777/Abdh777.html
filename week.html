<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸš€ Ù†Ø¸Ø§Ù… ÙØ­Øµ Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† - Ø§Ù„ØªÙˆÙƒÙ† Ù…Ø¶Ù…Ù†</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #1a1a2e;
            --secondary: #00b894;
            --accent: #0984e3;
            --danger: #d63031;
            --warning: #fdcb6e;
            --success: #00b894;
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }
        
        body {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #dfe6e9;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1800px;
            margin: 0 auto;
            padding: 20px;
            display: grid;
            grid-template-columns: 300px 1fr 350px;
            gap: 20px;
            height: 100vh;
        }
        
        /* Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ */
        .sidebar {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .logo {
            text-align: center;
            padding-bottom: 20px;
            border-bottom: 2px solid rgba(0, 184, 148, 0.3);
        }
        
        .logo h1 {
            font-size: 1.5rem;
            background: linear-gradient(to right, #00b894, #0984e3);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .system-info {
            background: rgba(0, 184, 148, 0.1);
            padding: 15px;
            border-radius: 10px;
            border: 2px solid #00b894;
        }
        
        .system-info h3 {
            color: #00b894;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .info-item {
            margin: 8px 0;
            font-size: 0.9rem;
        }
        
        .info-item i {
            color: #0984e3;
            width: 20px;
        }
        
        .file-section {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 10px;
        }
        
        .file-item {
            padding: 10px;
            background: rgba(255, 255, 255, 0.05);
            margin: 10px 0;
            border-radius: 8px;
            border-left: 4px solid #0984e3;
        }
        
        /* Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ */
        .main-content {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }
        
        .stat-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .stat-card h3 {
            font-size: 1.8rem;
            color: white;
            margin-bottom: 5px;
        }
        
        .scan-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
        }
        
        .scan-controls {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        
        .btn {
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: all 0.3s;
        }
        
        .btn-primary {
            background: linear-gradient(to right, #00b894, #00a085);
            color: white;
            flex: 1;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .results-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        .results-container {
            flex: 1;
            overflow-y: auto;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .address-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 15px;
            border-left: 4px solid #00b894;
        }
        
        .address-card.with-balance {
            border-left-color: #fdcb6e;
            background: rgba(253, 203, 110, 0.1);
        }
        
        .address-value {
            font-family: monospace;
            background: rgba(0, 0, 0, 0.3);
            padding: 10px;
            border-radius: 6px;
            margin: 10px 0;
            word-break: break-all;
            cursor: pointer;
        }
        
        /* Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© */
        .chat-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            display: flex;
            flex-direction: column;
        }
        
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            margin: 15px 0;
            padding: 10px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
        }
        
        .chat-input {
            display: flex;
            gap: 10px;
        }
        
        /* Ø§Ù„ØªØ­Ù…ÙŠÙ„ */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }
        
        .spinner {
            width: 60px;
            height: 60px;
            border: 5px solid rgba(255, 255, 255, 0.1);
            border-top: 5px solid #00b894;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Ø§Ù„ØªÙ‚Ø¯Ù… */
        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            margin: 15px 0;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(to right, #00b894, #0984e3);
            width: 0%;
            transition: width 0.3s;
        }
        
        /* Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª */
        .toast {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: #00b894;
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
            display: flex;
            align-items: center;
            gap: 10px;
            z-index: 1001;
            transition: transform 0.5s;
        }
        
        .toast.show {
            transform: translateX(-50%) translateY(0);
        }
        
        .online-users {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin: 10px 0;
        }
        
        .user-badge {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            background: rgba(9, 132, 227, 0.2);
            color: #0984e3;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.85rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ -->
        <div class="sidebar">
            <div class="logo">
                <h1><i class="fas fa-coins"></i> Crypto Scanner PRO</h1>
                <p style="color: #b2bec3; font-size: 0.9rem;">Ø§Ù„ØªÙˆÙƒÙ† Ù…Ø¶Ù…Ù† - ÙŠØ¹Ù…Ù„ Ù…Ø¨Ø§Ø´Ø±Ø©</p>
            </div>
            
            <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù… -->
            <div class="system-info">
                <h3><i class="fas fa-key"></i> Ø§Ù„Ù†Ø¸Ø§Ù… Ø¬Ø§Ù‡Ø²</h3>
                <div class="info-item">
                    <i class="fas fa-check-circle"></i> Ø§Ù„ØªÙˆÙƒÙ† Ù…Ø¶Ù…Ù† ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…
                </div>
                <div class="info-item">
                    <i class="fas fa-database"></i> Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø´ØªØ±ÙƒØ© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
                </div>
                <div class="info-item">
                    <i class="fas fa-users"></i> Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ù…ØªØµÙ„ÙŠÙ†
                </div>
                <div class="info-item">
                    <i class="fas fa-bolt"></i> ÙŠØ¹Ù…Ù„ ÙÙˆØ± ÙØªØ­ Ø§Ù„ØµÙØ­Ø©
                </div>
            </div>
            
            <!-- Ù…Ù„Ù Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† -->
            <div class="file-section">
                <h3><i class="fas fa-file-alt"></i> Ù…Ù„Ù Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ†</h3>
                <div id="file-info">
                    <div class="file-item">
                        <div style="font-weight: bold;">32.txt</div>
                        <div style="color: #b2bec3; font-size: 0.9rem;" id="address-count">
                            Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ†...
                        </div>
                    </div>
                </div>
                <button class="btn btn-primary" id="load-addresses" style="margin-top: 10px;">
                    <i class="fas fa-sync-alt"></i> ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù„Ù
                </button>
            </div>
            
            <!-- Ø§Ù„Ù…Ø³Ø§Ù‡Ù…ÙˆÙ† -->
            <div class="file-section">
                <h3><i class="fas fa-users"></i> Ø§Ù„Ù…ØªØµÙ„ÙˆÙ† Ø§Ù„Ø¢Ù†</h3>
                <div class="online-users" id="online-users">
                    <div class="user-badge">
                        <i class="fas fa-user"></i> Ø£Ù†Øª
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
        <div class="main-content">
            <!-- Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª -->
            <div class="stats-grid">
                <div class="stat-card">
                    <h3 id="total-addresses">0</h3>
                    <p>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ†</p>
                </div>
                <div class="stat-card">
                    <h3 id="scanned-addresses">0</h3>
                    <p>ØªÙ… ÙØ­ØµÙ‡Ø§</p>
                </div>
                <div class="stat-card">
                    <h3 id="with-balance">0</h3>
                    <p>ØªØ­ØªÙˆÙŠ Ø±ØµÙŠØ¯</p>
                </div>
                <div class="stat-card">
                    <h3 id="active-users">1</h3>
                    <p>Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ù†Ø´Ø·ÙŠÙ†</p>
                </div>
            </div>
            
            <!-- Ø§Ù„ÙØ­Øµ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ -->
            <div class="scan-section">
                <h2><i class="fas fa-robot"></i> Ø§Ù„ÙØ­Øµ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ</h2>
                <p style="color: #b2bec3; margin: 10px 0;">
                    Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠÙØ­Øµ Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ù…Ù† Ù…Ù„Ù 32.txt ÙˆÙŠØ­ÙØ¸ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ù„Ù„Ø¬Ù…ÙŠØ¹
                </p>
                
                <div class="progress-bar">
                    <div class="progress-fill" id="scan-progress"></div>
                </div>
                
                <div class="scan-controls">
                    <button class="btn btn-primary" id="start-scan">
                        <i class="fas fa-play"></i> Ø¨Ø¯Ø¡ Ø§Ù„ÙØ­Øµ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
                    </button>
                    <button class="btn btn-primary" id="force-sync">
                        <i class="fas fa-cloud-upload-alt"></i> Ù…Ø²Ø§Ù…Ù†Ø© Ù…Ø¹ Ø§Ù„Ø®Ø§Ø¯Ù…
                    </button>
                </div>
                
                <div style="margin-top: 15px; color: #b2bec3; font-size: 0.9rem;">
                    <div>Ø¬Ø§Ø±ÙŠ Ù…Ø¹Ø§Ù„Ø¬Ø©: <span id="current-processing">-</span></div>
                    <div>Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: <span id="remaining">0</span> Ø¹Ù†ÙˆØ§Ù†</div>
                    <div>Ø§Ù„Ø³Ø±Ø¹Ø©: <span id="speed">0</span> Ø¹Ù†ÙˆØ§Ù†/Ø«Ø§Ù†ÙŠØ©</div>
                </div>
            </div>
            
            <!-- Ø§Ù„Ù†ØªØ§Ø¦Ø¬ -->
            <div class="results-section">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                    <h2><i class="fas fa-list"></i> Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„Ù…ÙƒØªØ´ÙØ©</h2>
                    <button class="btn btn-primary" id="export-btn">
                        <i class="fas fa-download"></i> ØªØµØ¯ÙŠØ± Ø§Ù„Ù†ØªØ§Ø¦Ø¬
                    </button>
                </div>
                
                <div class="results-container" id="results-container">
                    <div style="text-align: center; padding: 40px; color: #b2bec3;">
                        <i class="fas fa-search" style="font-size: 3rem; margin-bottom: 15px;"></i>
                        <h3>Ø§Ø¨Ø¯Ø£ Ø§Ù„ÙØ­Øµ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ</h3>
                        <p>Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© -->
        <div class="chat-section">
            <h2><i class="fas fa-comments"></i> Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© Ø§Ù„Ù…Ø´ØªØ±ÙƒØ©</h2>
            
            <div class="chat-messages" id="chat-messages">
                <div style="text-align: center; padding: 20px; color: #b2bec3;">
                    <i class="fas fa-comment" style="font-size: 2rem; margin-bottom: 10px;"></i>
                    <p>Ù…Ø±Ø­Ø¨Ø§Ù‹! ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„ØªØ­Ø¯Ø« Ù…Ø¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ø¢Ø®Ø±ÙŠÙ† Ù‡Ù†Ø§</p>
                </div>
            </div>
            
            <div class="chat-input">
                <input type="text" id="chat-input" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„Ø©..." 
                       style="flex: 1; padding: 10px; background: rgba(255,255,255,0.1); 
                              border: 1px solid rgba(255,255,255,0.2); border-radius: 6px; color: white;">
                <button class="btn btn-primary" id="send-btn">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
            
            <div style="margin-top: 15px;">
                <input type="text" id="username" placeholder="Ø§Ø³Ù…Ùƒ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)" 
                       style="width: 100%; padding: 10px; background: rgba(255,255,255,0.1); 
                              border: 1px solid rgba(255,255,255,0.2); border-radius: 6px; color: white;">
            </div>
        </div>
    </div>
    
    <!-- Ù†Ø§ÙØ°Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ -->
    <div class="loading-overlay" id="loading">
        <div style="text-align: center;">
            <div class="spinner"></div>
            <h3 style="margin-top: 20px;" id="loading-text">Ø¬Ø§Ø±ÙŠ ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†Ø¸Ø§Ù…...</h3>
        </div>
    </div>
    
    <!-- Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª -->
    <div class="toast" id="toast">
        <i class="fas fa-check-circle"></i>
        <span id="toast-msg">Ø§Ù„Ù†Ø¸Ø§Ù… Ø¬Ø§Ù‡Ø²!</span>
    </div>

    <!-- ======================= -->
    <!-- Ø§Ù„Ù†Ø¸Ø§Ù… Ù…Ø¹ Ø§Ù„ØªÙˆÙƒÙ† Ø§Ù„Ù…Ø¶Ù…Ù† -->
    <!-- ======================= -->
    <script>
        // ===========================================
        // Ø¶Ø¹ Ø§Ù„ØªÙˆÙƒÙ† Ù‡Ù†Ø§ - Ø¨ÙŠÙ† Ø¹Ù„Ø§Ù…ØªÙŠ Ø§Ù„ØªÙ†ØµÙŠØµ
        // ===========================================
        const GITHUB_TOKEN = "";
        // ===========================================
        // Ø¶Ø¹ Ø§Ø³Ù… Ù…Ø³ØªØ®Ø¯Ù… GitHub Ù‡Ù†Ø§
        const GITHUB_USERNAME = "crypto-scanner-helper";
        // Ø¶Ø¹ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹ Ù‡Ù†Ø§
        const GITHUB_REPO = "crypto-scanner-data";
        // ===========================================
        
        class EmbeddedTokenScanner {
            constructor() {
                // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª GitHub Ù…Ø¹ Ø§Ù„ØªÙˆÙƒÙ† Ø§Ù„Ù…Ø¶Ù…Ù†
                this.config = {
                    username: GITHUB_USERNAME,
                    repo: GITHUB_REPO,
                    token: GITHUB_TOKEN,
                    branch: 'main'
                };
                
                // Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                this.database = {
                    addresses: {},
                    metadata: {
                        version: '3.0',
                        createdAt: new Date().toISOString(),
                        lastSync: null
                    },
                    stats: {
                        total: 0,
                        scanned: 0,
                        withBalance: 0,
                        totalBalance: 0
                    },
                    users: {},
                    chat: []
                };
                
                // Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø¸Ø§Ù…
                this.isScanning = false;
                this.addresses = [];
                this.currentUser = 'Ù…Ø³ØªØ®Ø¯Ù…_' + Math.floor(Math.random() * 10000);
                
                // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†Ø¸Ø§Ù…
                this.init();
            }
            
            async init() {
                this.showLoading('Ø¬Ø§Ø±ÙŠ ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†Ø¸Ø§Ù…...');
                
                // Ø¹Ø±Ø¶ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙˆÙƒÙ†
                this.showTokenInfo();
                
                // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† Ù…Ù† Ø§Ù„Ù…Ù„Ù
                await this.loadAddressesFromFile();
                
                // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† GitHub
                await this.loadFromGitHub();
                
                // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
                this.updateUI();
                
                // Ø¨Ø¯Ø¡ Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
                this.startAutoSync();
                
                // Ø¨Ø¯Ø¡ Ø§Ù„ÙØ­Øµ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¨Ø¹Ø¯ 3 Ø«ÙˆØ§Ù†ÙŠ
                setTimeout(() => {
                    this.startAutoScan();
                }, 3000);
                
                this.hideLoading();
                this.showToast('âœ… Ø§Ù„Ù†Ø¸Ø§Ù… Ø¬Ø§Ù‡Ø² ÙˆÙŠØ¹Ù…Ù„ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹!');
            }
            
            showTokenInfo() {
                // Ø¹Ø±Ø¶ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙˆÙƒÙ† ÙÙŠ ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
                const tokenPreview = this.config.token.substring(0, 10) + '...';
                console.log('ğŸ”‘ Ø§Ù„ØªÙˆÙƒÙ† Ø§Ù„Ù…Ø¶Ù…Ù†:', tokenPreview);
                
                // Ø¥Ø¶Ø§ÙØ© Ø±Ø³Ø§Ù„Ø© ØªØ±Ø­ÙŠØ¨ÙŠØ© ÙÙŠ Ø§Ù„Ø¯Ø±Ø¯Ø´Ø©
                this.addChatMessage('Ø§Ù„Ù†Ø¸Ø§Ù…', `Ù…Ø±Ø­Ø¨Ø§Ù‹! Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ¹Ù…Ù„ Ø¨ØªÙˆÙƒÙ†: ${tokenPreview}`);
                this.addChatMessage('Ø§Ù„Ù†Ø¸Ø§Ù…', 'Ø§Ù„ÙØ­Øµ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø³ÙŠØ¨Ø¯Ø£ Ø®Ù„Ø§Ù„ Ø«ÙˆØ§Ù†ÙŠ...');
            }
            
            async loadAddressesFromFile() {
                try {
                    const response = await fetch('32.txt');
                    if (!response.ok) {
                        // Ø¥Ø°Ø§ Ù„Ù… ÙŠÙˆØ¬Ø¯ Ø§Ù„Ù…Ù„ÙØŒ Ù†Ù†Ø´Ø¦ Ø¹ÙŠÙ†Ø§Øª
                        this.createSampleAddresses();
                        return;
                    }
                    
                    const text = await response.text();
                    this.addresses = text.split('\n')
                        .map(line => line.trim())
                        .filter(line => line && !line.startsWith('#'));
                    
                    document.getElementById('address-count').textContent = 
                        `${this.addresses.length} Ø¹Ù†ÙˆØ§Ù†`;
                    
                    this.showToast(`ğŸ“ ØªÙ… ØªØ­Ù…ÙŠÙ„ ${this.addresses.length} Ø¹Ù†ÙˆØ§Ù†`);
                    
                } catch (error) {
                    console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù:', error);
                    this.createSampleAddresses();
                }
            }
            
            createSampleAddresses() {
                // Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†Ø§ÙˆÙŠÙ† ØªØ¬Ø±ÙŠØ¨ÙŠØ©
                this.addresses = [
                    '1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa',
                    '3J98t1WpEZ73CNmQviecrnyiWrnqRhWNLy',
                    'bc1qar0srrr7xfkvy5l643lydnw9re59gtzzwf5mdq',
                    '0x742d35Cc6634C0532925a3b844Bc9e90F1f04e6a',
                    '0x5A0b54D5dc17e0AadC383d2db43B0a0D3E029c4c'
                ];
                
                document.getElementById('address-count').textContent = 
                    `${this.addresses.length} Ø¹Ù†ÙˆØ§Ù† (ØªØ¬Ø±ÙŠØ¨ÙŠ)`;
                
                this.showToast('âš ï¸ ØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¹Ù†Ø§ÙˆÙŠÙ† ØªØ¬Ø±ÙŠØ¨ÙŠØ©');
            }
            
            async loadFromGitHub() {
                try {
                    const url = `https://api.github.com/repos/${this.config.username}/${this.config.repo}/contents/database.json`;
                    
                    const response = await fetch(url, {
                        headers: {
                            'Authorization': `token ${this.config.token}`,
                            'Accept': 'application/vnd.github.v3+json'
                        }
                    });
                    
                    if (response.ok) {
                        const data = await response.json();
                        const content = atob(data.content);
                        this.database = JSON.parse(content);
                        
                        this.showToast('ğŸ“¥ ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…');
                    } else {
                        // Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©
                        await this.createNewDatabase();
                    }
                    
                } catch (error) {
                    console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:', error);
                    await this.createNewDatabase();
                }
            }
            
            async createNewDatabase() {
                try {
                    const url = `https://api.github.com/repos/${this.config.username}/${this.config.repo}/contents/database.json`;
                    
                    const content = btoa(unescape(encodeURIComponent(
                        JSON.stringify(this.database, null, 2)
                    )));
                    
                    const response = await fetch(url, {
                        method: 'PUT',
                        headers: {
                            'Authorization': `token ${this.config.token}`,
                            'Accept': 'application/vnd.github.v3+json',
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            message: 'Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©',
                            content: content,
                            branch: this.config.branch
                        })
                    });
                    
                    if (response.ok) {
                        this.showToast('âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø¬Ø¯ÙŠØ¯Ø© Ø¹Ù„Ù‰ GitHub');
                    }
                    
                } catch (error) {
                    console.error('Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:', error);
                }
            }
            
            async startAutoScan() {
                if (this.isScanning || this.addresses.length === 0) return;
                
                this.isScanning = true;
                this.showToast('ğŸš€ Ø¨Ø¯Ø¡ Ø§Ù„ÙØ­Øµ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ...');
                
                const total = this.addresses.length;
                let processed = 0;
                const startTime = Date.now();
                
                for (let i = 0; i < total; i++) {
                    const address = this.addresses[i];
                    
                    // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„ØªÙ‚Ø¯Ù…
                    document.getElementById('current-processing').textContent = 
                        address.substring(0, 20) + '...';
                    document.getElementById('remaining').textContent = total - i - 1;
                    
                    const progress = Math.floor(((i + 1) / total) * 100);
                    document.getElementById('scan-progress').style.width = `${progress}%`;
                    
                    // ÙØ­Øµ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†
                    await this.scanAddress(address);
                    processed++;
                    
                    // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø³Ø±Ø¹Ø©
                    const elapsed = (Date.now() - startTime) / 1000;
                    const speed = processed / elapsed;
                    document.getElementById('speed').textContent = speed.toFixed(2);
                    
                    // Ù…Ø²Ø§Ù…Ù†Ø© ÙƒÙ„ 5 Ø¹Ù†Ø§ÙˆÙŠÙ†
                    if (processed % 5 === 0) {
                        await this.syncWithGitHub();
                    }
                    
                    // ØªØ£Ø®ÙŠØ± ØµØºÙŠØ±
                    await this.sleep(100);
                }
                
                this.isScanning = false;
                await this.syncWithGitHub();
                this.showToast('âœ… Ø§ÙƒØªÙ…Ù„ Ø§Ù„ÙØ­Øµ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ!');
            }
            
            async scanAddress(address) {
                try {
                    // ØªØ­Ø¯ÙŠØ¯ Ù†ÙˆØ¹ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†
                    const isBTC = /^[13][a-km-zA-HJ-NP-Z1-9]{25,34}$|^bc1[ac-hj-np-z02-9]{11,87}$/.test(address);
                    const isETH = /^0x[a-fA-F0-9]{40}$/.test(address);
                    
                    if (!isBTC && !isETH) return;
                    
                    const type = isBTC ? 'bitcoin' : 'ethereum';
                    
                    // Ù…Ø­Ø§ÙƒØ§Ø© ÙØ­Øµ Ø§Ù„Ø±ØµÙŠØ¯
                    const hasBalance = Math.random() > 0.7;
                    let balance = 0;
                    
                    if (hasBalance) {
                        balance = Math.random() * 5;
                        this.database.stats.withBalance++;
                        this.database.stats.totalBalance += balance;
                        
                        // Ø¥Ø´Ø¹Ø§Ø± ÙÙŠ Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© Ù„Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„ØªÙŠ ØªØ­ØªÙˆÙŠ Ø±ØµÙŠØ¯
                        this.addChatMessage('Ø§Ù„Ù†Ø¸Ø§Ù…', 
                            `ğŸ’° Ø§ÙƒØªØ´Ø§Ù: ${address.substring(0, 15)}... - ${balance.toFixed(4)} ${type.toUpperCase()}`);
                    }
                    
                    // Ø­ÙØ¸ Ø§Ù„Ù†ØªÙŠØ¬Ø©
                    this.database.addresses[address] = {
                        address,
                        type,
                        balance,
                        hasBalance,
                        scannedAt: new Date().toISOString(),
                        scannedBy: this.currentUser
                    };
                    
                    this.database.stats.total++;
                    this.database.stats.scanned++;
                    
                    // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
                    this.updateUI();
                    
                } catch (error) {
                    console.error('Ø®Ø·Ø£ ÙÙŠ ÙØ­Øµ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†:', error);
                }
            }
            
            async syncWithGitHub() {
                try {
                    // ØªØ­Ø¯ÙŠØ« ÙˆÙ‚Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©
                    this.database.metadata.lastSync = new Date().toISOString();
                    
                    // ØªØ­Ø¯ÙŠØ« Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
                    this.database.users[this.currentUser] = {
                        lastActive: new Date().toISOString(),
                        totalScans: Object.keys(this.database.addresses).length
                    };
                    
                    // Ø±ÙØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                    const url = `https://api.github.com/repos/${this.config.username}/${this.config.repo}/contents/database.json`;
                    
                    // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ SHA Ù„Ù„Ù…Ù„Ù Ø§Ù„Ø­Ø§Ù„ÙŠ
                    let sha = null;
                    try {
                        const response = await fetch(url, {
                            headers: {
                                'Authorization': `token ${this.config.token}`,
                                'Accept': 'application/vnd.github.v3+json'
                            }
                        });
                        
                        if (response.ok) {
                            const data = await response.json();
                            sha = data.sha;
                        }
                    } catch (e) {
                        // Ø§Ù„Ù…Ù„Ù ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯
                    }
                    
                    // ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                    const content = btoa(unescape(encodeURIComponent(
                        JSON.stringify(this.database, null, 2)
                    )));
                    
                    // Ø§Ù„Ø±ÙØ¹
                    const response = await fetch(url, {
                        method: 'PUT',
                        headers: {
                            'Authorization': `token ${this.config.token}`,
                            'Accept': 'application/vnd.github.v3+json',
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            message: `ØªØ­Ø¯ÙŠØ« ${new Date().toLocaleTimeString('ar-SA')}`,
                            content: content,
                            branch: this.config.branch,
                            sha: sha
                        })
                    });
                    
                    if (response.ok) {
                        this.showToast('ğŸ”„ ØªÙ… Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');
                    }
                    
                } catch (error) {
                    console.error('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©:', error);
                }
            }
            
            updateUI() {
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
                document.getElementById('total-addresses').textContent = 
                    this.database.stats.total;
                document.getElementById('scanned-addresses').textContent = 
                    this.database.stats.scanned;
                document.getElementById('with-balance').textContent = 
                    this.database.stats.withBalance;
                document.getElementById('active-users').textContent = 
                    Object.keys(this.database.users).length;
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†ØªØ§Ø¦Ø¬
                this.updateResults();
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ù†Ø´Ø·ÙŠÙ†
                this.updateOnlineUsers();
            }
            
            updateResults() {
                const resultsContainer = document.getElementById('results-container');
                const addresses = Object.values(this.database.addresses)
                    .sort((a, b) => {
                        if (a.hasBalance && !b.hasBalance) return -1;
                        if (!a.hasBalance && b.hasBalance) return 1;
                        return new Date(b.scannedAt) - new Date(a.scannedAt);
                    })
                    .slice(0, 30);
                
                if (addresses.length === 0) {
                    resultsContainer.innerHTML = `
                        <div style="text-align: center; padding: 40px; color: #b2bec3;">
                            <i class="fas fa-search" style="font-size: 3rem; margin-bottom: 15px;"></i>
                            <h3>Ø¬Ø§Ø±ÙŠ Ø§Ù„ÙØ­Øµ...</h3>
                            <p>Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ Ù‚Ø±ÙŠØ¨Ø§Ù‹</p>
                        </div>
                    `;
                    return;
                }
                
                let html = '';
                addresses.forEach(addr => {
                    const badgeColor = addr.type === 'bitcoin' ? '#f7931a' : '#627eea';
                    const icon = addr.type === 'bitcoin' ? 'fab fa-bitcoin' : 'fab fa-ethereum';
                    
                    html += `
                        <div class="address-card ${addr.hasBalance ? 'with-balance' : ''}">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                                <span style="display: flex; align-items: center; gap: 8px;">
                                    <i class="${icon}" style="color: ${badgeColor};"></i>
                                    <span style="font-weight: bold; text-transform: uppercase;">${addr.type}</span>
                                </span>
                                ${addr.hasBalance ? 
                                    `<span style="color: #fdcb6e; font-weight: bold;">${addr.balance.toFixed(4)}</span>` : 
                                    '<span style="color: #b2bec3;">ÙØ§Ø±Øº</span>'}
                            </div>
                            <div class="address-value" onclick="scanner.copyToClipboard('${addr.address}')">
                                ${addr.address}
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-top: 10px; font-size: 0.85rem; color: #b2bec3;">
                                <span><i class="fas fa-user"></i> ${addr.scannedBy}</span>
                                <span><i class="far fa-clock"></i> ${this.formatTime(addr.scannedAt)}</span>
                            </div>
                        </div>
                    `;
                });
                
                resultsContainer.innerHTML = html;
            }
            
            updateOnlineUsers() {
                const onlineUsers = document.getElementById('online-users');
                const users = Object.keys(this.database.users)
                    .filter(user => {
                        const lastActive = new Date(this.database.users[user].lastActive);
                        return (new Date() - lastActive) < 300000; // 5 Ø¯Ù‚Ø§Ø¦Ù‚
                    });
                
                let html = '';
                users.forEach(user => {
                    html += `<div class="user-badge"><i class="fas fa-user"></i> ${user}</div>`;
                });
                
                onlineUsers.innerHTML = html;
            }
            
            addChatMessage(user, message) {
                const chatMessages = document.getElementById('chat-messages');
                const time = new Date().toLocaleTimeString('ar-SA', { 
                    hour: '2-digit', 
                    minute: '2-digit' 
                });
                
                const messageDiv = document.createElement('div');
                messageDiv.style.cssText = `
                    margin-bottom: 10px;
                    padding: 10px;
                    background: rgba(255, 255, 255, 0.05);
                    border-radius: 8px;
                `;
                
                messageDiv.innerHTML = `
                    <div style="display: flex; justify-content: space-between; margin-bottom: 5px; font-size: 0.85rem; color: #0984e3;">
                        <span><strong>${user}</strong></span>
                        <span>${time}</span>
                    </div>
                    <div>${message}</div>
                `;
                
                chatMessages.appendChild(messageDiv);
                chatMessages.scrollTop = chatMessages.scrollHeight;
                
                // Ø­ÙØ¸ ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                this.database.chat.push({
                    user,
                    message,
                    timestamp: new Date().toISOString()
                });
            }
            
            startAutoSync() {
                // Ù…Ø²Ø§Ù…Ù†Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ© ÙƒÙ„ 30 Ø«Ø§Ù†ÙŠØ©
                setInterval(() => {
                    if (!this.isScanning) {
                        this.syncWithGitHub();
                    }
                }, 30000);
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù… ÙƒÙ„ Ø¯Ù‚ÙŠÙ‚Ø©
                setInterval(() => {
                    this.loadFromGitHub();
                    this.updateUI();
                }, 60000);
            }
            
            // Ø£Ø¯ÙˆØ§Øª Ù…Ø³Ø§Ø¹Ø¯Ø©
            showLoading(text) {
                document.getElementById('loading').style.display = 'flex';
                document.getElementById('loading-text').textContent = text;
            }
            
            hideLoading() {
                document.getElementById('loading').style.display = 'none';
            }
            
            showToast(message) {
                const toast = document.getElementById('toast');
                const toastMsg = document.getElementById('toast-msg');
                
                toastMsg.textContent = message;
                toast.classList.add('show');
                
                setTimeout(() => {
                    toast.classList.remove('show');
                }, 3000);
            }
            
            formatTime(dateString) {
                const date = new Date(dateString);
                const now = new Date();
                const diff = (now - date) / 1000;
                
                if (diff < 60) return 'Ø§Ù„Ø¢Ù†';
                if (diff < 3600) return `Ù…Ù†Ø° ${Math.floor(diff / 60)} Ø¯`;
                if (diff < 86400) return `Ù…Ù†Ø° ${Math.floor(diff / 3600)} Ø³`;
                return date.toLocaleDateString('ar-SA');
            }
            
            sleep(ms) {
                return new Promise(resolve => setTimeout(resolve, ms));
            }
            
            copyToClipboard(text) {
                navigator.clipboard.writeText(text).then(() => {
                    this.showToast('ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø¹Ù†ÙˆØ§Ù†');
                });
            }
            
            exportResults() {
                const data = {
                    addresses: this.database.addresses,
                    stats: this.database.stats,
                    exportDate: new Date().toISOString()
                };
                
                const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                
                const a = document.createElement('a');
                a.href = url;
                a.download = `crypto-results-${Date.now()}.json`;
                a.click();
                
                URL.revokeObjectURL(url);
                this.showToast('ØªÙ… ØªØµØ¯ÙŠØ± Ø§Ù„Ù†ØªØ§Ø¦Ø¬');
            }
        }
        
        // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…Ø³ØªÙ…Ø¹ÙŠÙ† Ù„Ù„Ø£Ø­Ø¯Ø§Ø«
        document.addEventListener('DOMContentLoaded', () => {
            // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù†Ø¸Ø§Ù…
            window.scanner = new EmbeddedTokenScanner();
            
            // Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ…
            document.getElementById('start-scan').addEventListener('click', () => {
                scanner.startAutoScan();
            });
            
            document.getElementById('force-sync').addEventListener('click', () => {
                scanner.syncWithGitHub();
            });
            
            document.getElementById('export-btn').addEventListener('click', () => {
                scanner.exportResults();
            });
            
            document.getElementById('load-addresses').addEventListener('click', () => {
                scanner.loadAddressesFromFile();
            });
            
            // Ø§Ù„Ø¯Ø±Ø¯Ø´Ø©
            document.getElementById('send-btn').addEventListener('click', () => {
                const input = document.getElementById('chat-input');
                const message = input.value.trim();
                
                if (message) {
                    const username = document.getElementById('username').value || scanner.currentUser;
                    scanner.addChatMessage(username, message);
                    input.value = '';
                    
                    // Ù…Ø²Ø§Ù…Ù†Ø© Ù…Ø¹ Ø§Ù„Ø®Ø§Ø¯Ù…
                    scanner.syncWithGitHub();
                }
            });
            
            document.getElementById('chat-input').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    document.getElementById('send-btn').click();
                }
            });
            
            // Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            document.getElementById('username').addEventListener('change', (e) => {
                if (e.target.value) {
                    scanner.currentUser = e.target.value;
                    scanner.showToast(`Ø§Ø³Ù…Ùƒ Ø§Ù„Ø¢Ù†: ${e.target.value}`);
                }
            });
        });
    </script>
</body>
</html>